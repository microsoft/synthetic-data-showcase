var fe=Object.defineProperty;var be=(x,m,S)=>m in x?fe(x,m,{enumerable:!0,configurable:!0,writable:!0,value:S}):x[m]=S;var D=(x,m,S)=>(be(x,typeof m!="symbol"?m+"":m,S),S);(function(){"use strict";const x=Symbol("Comlink.proxy"),m=Symbol("Comlink.endpoint"),S=Symbol("Comlink.releaseProxy"),W=Symbol("Comlink.thrown"),V=n=>typeof n=="object"&&n!==null||typeof n=="function",Y={canHandle:n=>V(n)&&n[x],serialize(n){const{port1:e,port2:s}=new MessageChannel;return I(n,e),[s,[s]]},deserialize(n){return n.start(),Q(n)}},X={canHandle:n=>V(n)&&W in n,serialize({value:n}){let e;return n instanceof Error?e={isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:e={isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},H=new Map([["proxy",Y],["throw",X]]);function I(n,e=self){e.addEventListener("message",function s(o){if(!o||!o.data)return;const{id:t,type:r,path:a}=Object.assign({path:[]},o.data),_=(o.data.argumentList||[]).map(E);let g;try{const f=a.slice(0,-1).reduce((l,j)=>l[j],n),v=a.reduce((l,j)=>l[j],n);switch(r){case"GET":g=v;break;case"SET":f[a.slice(-1)[0]]=E(o.data.value),g=!0;break;case"APPLY":g=v.apply(f,_);break;case"CONSTRUCT":{const l=new v(..._);g=te(l)}break;case"ENDPOINT":{const{port1:l,port2:j}=new MessageChannel;I(n,j),g=ee(l,[l])}break;case"RELEASE":g=void 0;break;default:return}}catch(f){g={value:f,[W]:0}}Promise.resolve(g).catch(f=>({value:f,[W]:0})).then(f=>{const[v,l]=J(f);e.postMessage(Object.assign(Object.assign({},v),{id:t}),l),r==="RELEASE"&&(e.removeEventListener("message",s),$(e))})}),e.start&&e.start()}function K(n){return n.constructor.name==="MessagePort"}function $(n){K(n)&&n.close()}function Q(n,e){return N(n,[],e)}function k(n){if(n)throw new Error("Proxy has been released and is not useable")}function N(n,e=[],s=function(){}){let o=!1;const t=new Proxy(s,{get(r,a){if(k(o),a===S)return()=>T(n,{type:"RELEASE",path:e.map(_=>_.toString())}).then(()=>{$(n),o=!0});if(a==="then"){if(e.length===0)return{then:()=>t};const _=T(n,{type:"GET",path:e.map(g=>g.toString())}).then(E);return _.then.bind(_)}return N(n,[...e,a])},set(r,a,_){k(o);const[g,f]=J(_);return T(n,{type:"SET",path:[...e,a].map(v=>v.toString()),value:g},f).then(E)},apply(r,a,_){k(o);const g=e[e.length-1];if(g===m)return T(n,{type:"ENDPOINT"}).then(E);if(g==="bind")return N(n,e.slice(0,-1));const[f,v]=z(_);return T(n,{type:"APPLY",path:e.map(l=>l.toString()),argumentList:f},v).then(E)},construct(r,a){k(o);const[_,g]=z(a);return T(n,{type:"CONSTRUCT",path:e.map(f=>f.toString()),argumentList:_},g).then(E)}});return t}function Z(n){return Array.prototype.concat.apply([],n)}function z(n){const e=n.map(J);return[e.map(s=>s[0]),Z(e.map(s=>s[1]))]}const B=new WeakMap;function ee(n,e){return B.set(n,e),n}function te(n){return Object.assign(n,{[x]:!0})}function J(n){for(const[e,s]of H)if(s.canHandle(n)){const[o,t]=s.serialize(n);return[{type:"HANDLER",name:e,value:o},t]}return[{type:"RAW",value:n},B.get(n)||[]]}function E(n){switch(n.type){case"HANDLER":return H.get(n.name).deserialize(n.value);case"RAW":return n.value}}function T(n,e,s){return new Promise(o=>{const t=ne();n.addEventListener("message",function r(a){!a.data||!a.data.id||a.data.id!==t||(n.removeEventListener("message",r),o(a.data))}),n.start&&n.start(),n.postMessage(Object.assign({id:t},e),s)})}function ne(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let u,q=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});q.decode();let M=null;function F(){return(M===null||M.buffer!==u.memory.buffer)&&(M=new Uint8Array(u.memory.buffer)),M}function R(n,e){return q.decode(F().subarray(n,n+e))}const y=new Array(32).fill(void 0);y.push(void 0,null,!0,!1);let O=y.length;function i(n){O===y.length&&y.push(y.length+1);const e=O;return O=y[e],y[e]=n,e}function c(n){return y[n]}function re(n){n<36||(y[n]=O,O=n)}function d(n){const e=c(n);return re(n),e}let w=0,L=new TextEncoder("utf-8");const ae=typeof L.encodeInto=="function"?function(n,e){return L.encodeInto(n,e)}:function(n,e){const s=L.encode(n);return e.set(s),{read:n.length,written:s.length}};function h(n,e,s){if(s===void 0){const _=L.encode(n),g=e(_.length);return F().subarray(g,g+_.length).set(_),w=_.length,g}let o=n.length,t=e(o);const r=F();let a=0;for(;a<o;a++){const _=n.charCodeAt(a);if(_>127)break;r[t+a]=_}if(a!==o){a!==0&&(n=n.slice(a)),t=s(t,o,o=a+n.length*3);const _=F().subarray(t+a,t+o);a+=ae(n,_).written}return w=a,t}function p(n){return n==null}let P=null;function A(){return(P===null||P.buffer!==u.memory.buffer)&&(P=new Int32Array(u.memory.buffer)),P}function U(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const t=n.description;return t==null?"Symbol":`Symbol(${t})`}if(e=="function"){const t=n.name;return typeof t=="string"&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(n)){const t=n.length;let r="[";t>0&&(r+=U(n[0]));for(let a=1;a<t;a++)r+=", "+U(n[a]);return r+="]",r}const s=/\[object ([^\]]+)\]/.exec(toString.call(n));let o;if(s.length>1)o=s[1];else return toString.call(n);if(o=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:o}function se(n){var e=h(n,u.__wbindgen_malloc,u.__wbindgen_realloc),s=w,o=u.init_logger(e,s);return o!==0}function b(n,e){try{return n.apply(this,e)}catch(s){u.__wbindgen_exn_store(i(s))}}function oe(n,e){return F().subarray(n/1,n/1+e)}class C{static __wrap(e){const s=Object.create(C.prototype);return s.ptr=e,s}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();u.__wbg_wasmsdscontext_free(e)}constructor(){var e=u.wasmsdscontext_default();return C.__wrap(e)}clear(){u.wasmsdscontext_clear(this.ptr)}setSensitiveData(e,s){var o=h(e,u.__wbindgen_malloc,u.__wbindgen_realloc),t=w;u.wasmsdscontext_setSensitiveData(this.ptr,o,t,i(s))}sensitiveAggregateStatistics(e,s,o){var t=u.wasmsdscontext_sensitiveAggregateStatistics(this.ptr,e,s,i(o));return d(t)}generateUnseeded(e,s){u.wasmsdscontext_generateUnseeded(this.ptr,i(e),i(s))}generateRowSeeded(e,s){u.wasmsdscontext_generateRowSeeded(this.ptr,i(e),i(s))}generateValueSeeded(e,s,o,t){u.wasmsdscontext_generateValueSeeded(this.ptr,i(e),s,p(o)?0:i(o),i(t))}generateAggregateSeeded(e,s,o,t,r){u.wasmsdscontext_generateAggregateSeeded(this.ptr,i(e),s,o,!p(t),p(t)?0:t,i(r))}generateDp(e,s,o,t,r,a,_){u.wasmsdscontext_generateDp(this.ptr,i(e),s,i(o),i(t),r,!p(a),p(a)?0:a,i(_))}evaluate(e,s){u.wasmsdscontext_evaluate(this.ptr,e,i(s))}navigate(){u.wasmsdscontext_navigate(this.ptr)}selectAttributes(e){u.wasmsdscontext_selectAttributes(this.ptr,i(e))}attributesIntersectionsByColumn(e){var s=u.wasmsdscontext_attributesIntersectionsByColumn(this.ptr,i(e));return d(s)}generateResultToJs(e,s){var o=u.wasmsdscontext_generateResultToJs(this.ptr,e,s);return d(o)}evaluateResultToJs(){var e=u.wasmsdscontext_evaluateResultToJs(this.ptr);return d(e)}sensitiveAggregateResultToJs(e,s,o){var t=h(s,u.__wbindgen_malloc,u.__wbindgen_realloc),r=w,a=u.wasmsdscontext_sensitiveAggregateResultToJs(this.ptr,e.codePointAt(0),t,r,p(o)?16777215:o?1:0);return d(a)}reportableAggregateResultToJs(e,s,o){var t=h(s,u.__wbindgen_malloc,u.__wbindgen_realloc),r=w,a=u.wasmsdscontext_reportableAggregateResultToJs(this.ptr,e.codePointAt(0),t,r,p(o)?16777215:o?1:0);return d(a)}syntheticAggregateResultToJs(e,s,o){var t=h(s,u.__wbindgen_malloc,u.__wbindgen_realloc),r=w,a=u.wasmsdscontext_syntheticAggregateResultToJs(this.ptr,e.codePointAt(0),t,r,p(o)?16777215:o?1:0);return d(a)}navigateResultToJs(){var e=u.wasmsdscontext_navigateResultToJs(this.ptr);return d(e)}}async function ie(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(o){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const s=await n.arrayBuffer();return await WebAssembly.instantiate(s,e)}else{const s=await WebAssembly.instantiate(n,e);return s instanceof WebAssembly.Instance?{instance:s,module:n}:s}}async function G(n){typeof n>"u"&&(n=new URL("/synthetic-data-showcase/assets/sds_wasm_bg.7c267379.wasm",self.location));const e={};e.wbg={},e.wbg.__wbindgen_string_new=function(t,r){var a=R(t,r);return i(a)},e.wbg.__wbindgen_json_parse=function(t,r){var a=JSON.parse(R(t,r));return i(a)},e.wbg.__wbindgen_object_drop_ref=function(t){d(t)},e.wbg.__wbindgen_is_function=function(t){var r=typeof c(t)=="function";return r},e.wbg.__wbindgen_string_get=function(t,r){const a=c(r);var _=typeof a=="string"?a:void 0,g=p(_)?0:h(_,u.__wbindgen_malloc,u.__wbindgen_realloc),f=w;A()[t/4+1]=f,A()[t/4+0]=g},e.wbg.__wbindgen_json_serialize=function(t,r){const a=c(r);var _=JSON.stringify(a===void 0?null:a),g=h(_,u.__wbindgen_malloc,u.__wbindgen_realloc),f=w;A()[t/4+1]=f,A()[t/4+0]=g},e.wbg.__wbindgen_number_new=function(t){var r=t;return i(r)},e.wbg.__wbindgen_bigint_new=function(t,r){var a=BigInt(R(t,r));return i(a)},e.wbg.__wbindgen_boolean_get=function(t){const r=c(t);var a=typeof r=="boolean"?r?1:0:2;return a},e.wbg.__wbg_new_693216e109162396=function(){var t=new Error;return i(t)},e.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,r){var a=c(r).stack,_=h(a,u.__wbindgen_malloc,u.__wbindgen_realloc),g=w;A()[t/4+1]=g,A()[t/4+0]=_},e.wbg.__wbg_error_09919627ac0992f5=function(t,r){try{console.error(R(t,r))}finally{u.__wbindgen_free(t,r)}},e.wbg.__wbg_log_3445347661d4505e=function(t){console.log(c(t))},e.wbg.__wbg_now_559193109055ebad=function(t){var r=c(t).now();return r},e.wbg.__wbg_randomFillSync_64cc7d048f228ca8=function(){return b(function(t,r,a){c(t).randomFillSync(oe(r,a))},arguments)},e.wbg.__wbg_getRandomValues_98117e9a7e993920=function(){return b(function(t,r){c(t).getRandomValues(c(r))},arguments)},e.wbg.__wbg_process_2f24d6544ea7b200=function(t){var r=c(t).process;return i(r)},e.wbg.__wbindgen_is_object=function(t){const r=c(t);var a=typeof r=="object"&&r!==null;return a},e.wbg.__wbg_versions_6164651e75405d4a=function(t){var r=c(t).versions;return i(r)},e.wbg.__wbg_node_4b517d861cbcb3bc=function(t){var r=c(t).node;return i(r)},e.wbg.__wbindgen_is_string=function(t){var r=typeof c(t)=="string";return r},e.wbg.__wbg_modulerequire_3440a4bcf44437db=function(){return b(function(t,r){var a=o.require(R(t,r));return i(a)},arguments)},e.wbg.__wbg_crypto_98fc271021c7d2ad=function(t){var r=c(t).crypto;return i(r)},e.wbg.__wbg_msCrypto_a2cdb043d2bfe57f=function(t){var r=c(t).msCrypto;return i(r)},e.wbg.__wbg_get_67189fe0b323d288=function(t,r){var a=c(t)[r>>>0];return i(a)},e.wbg.__wbg_new_949bbc1147195c4e=function(){var t=new Array;return i(t)},e.wbg.__wbg_newnoargs_be86524d73f67598=function(t,r){var a=new Function(R(t,r));return i(a)},e.wbg.__wbg_next_7720502039b96d00=function(){return b(function(t){var r=c(t).next();return i(r)},arguments)},e.wbg.__wbg_done_b06cf0578e89ff68=function(t){var r=c(t).done;return r},e.wbg.__wbg_value_e74a542443d92451=function(t){var r=c(t).value;return i(r)},e.wbg.__wbg_get_4d0f21c2f823742e=function(){return b(function(t,r){var a=Reflect.get(c(t),c(r));return i(a)},arguments)},e.wbg.__wbg_call_888d259a5fefc347=function(){return b(function(t,r){var a=c(t).call(c(r));return i(a)},arguments)},e.wbg.__wbg_new_0b83d3df67ecb33e=function(){var t=new Object;return i(t)},e.wbg.__wbindgen_object_clone_ref=function(t){var r=c(t);return i(r)},e.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return b(function(){var t=self.self;return i(t)},arguments)},e.wbg.__wbg_window_baec038b5ab35c54=function(){return b(function(){var t=window.window;return i(t)},arguments)},e.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return b(function(){var t=globalThis.globalThis;return i(t)},arguments)},e.wbg.__wbg_global_1bc0b39582740e95=function(){return b(function(){var t=global.global;return i(t)},arguments)},e.wbg.__wbindgen_is_undefined=function(t){var r=c(t)===void 0;return r},e.wbg.__wbg_isArray_eb7ad55f2da67dde=function(t){var r=Array.isArray(c(t));return r},e.wbg.__wbg_push_284486ca27c6aa8b=function(t,r){var a=c(t).push(c(r));return a},e.wbg.__wbg_values_364ae56c608e6824=function(t){var r=c(t).values();return i(r)},e.wbg.__wbg_call_346669c262382ad7=function(){return b(function(t,r,a){var _=c(t).call(c(r),c(a));return i(_)},arguments)},e.wbg.__wbg_instanceof_Object_66786225e0dbc8ba=function(t){var r=c(t)instanceof Object;return r},e.wbg.__wbg_entries_aadf9c3f38203a12=function(t){var r=Object.entries(c(t));return i(r)},e.wbg.__wbg_instanceof_Set_cc7c664ae80b00ae=function(t){var r=c(t)instanceof Set;return r},e.wbg.__wbg_keys_dad0044163aa4376=function(t){var r=c(t).keys();return i(r)},e.wbg.__wbg_buffer_397eaa4d72ee94dd=function(t){var r=c(t).buffer;return i(r)},e.wbg.__wbg_new_a7ce447f15ff496f=function(t){var r=new Uint8Array(c(t));return i(r)},e.wbg.__wbg_set_969ad0a60e51d320=function(t,r,a){c(t).set(c(r),a>>>0)},e.wbg.__wbg_length_1eb8fc608a0d4cdb=function(t){var r=c(t).length;return r},e.wbg.__wbg_newwithlength_929232475839a482=function(t){var r=new Uint8Array(t>>>0);return i(r)},e.wbg.__wbg_subarray_8b658422a224f479=function(t,r,a){var _=c(t).subarray(r>>>0,a>>>0);return i(_)},e.wbg.__wbg_set_82a4e8a85e31ac42=function(){return b(function(t,r,a){var _=Reflect.set(c(t),c(r),c(a));return _},arguments)},e.wbg.__wbindgen_debug_string=function(t,r){var a=U(c(r)),_=h(a,u.__wbindgen_malloc,u.__wbindgen_realloc),g=w;A()[t/4+1]=g,A()[t/4+0]=_},e.wbg.__wbindgen_throw=function(t,r){throw new Error(R(t,r))},e.wbg.__wbindgen_rethrow=function(t){throw d(t)},e.wbg.__wbindgen_memory=function(){var t=u.memory;return i(t)},(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:s,module:o}=await ie(await n,e);return u=s.exports,G.__wbindgen_wasm_module=o,u}var ce="/synthetic-data-showcase/assets/sds_wasm_bg.7c267379.wasm";/*!
 * Copyright (c) Microsoft. All rights reserved.
 * Licensed under the MIT license. See LICENSE file in the project.
 */function ue(){return"warn"}/*!
 * Copyright (c) Microsoft. All rights reserved.
 * Licensed under the MIT license. See LICENSE file in the project.
 */class _e{constructor(e){D(this,"_context");D(this,"_name");this._context=null,this._name=e}async init(){await G(ce),se(ue()),this._context=new C}async terminate(){this._context?.free()}getContext(){if(this._context===null)throw new Error(`"${this._name}" worker has not been properly initialized, did you call init?`);return this._context}}/*!
 * Copyright (c) Microsoft. All rights reserved.
 * Licensed under the MIT license. See LICENSE file in the project.
 */class ge extends _e{async generateAggregateStatistics(e,s,o,t,r){const a=this.getContext();return s.useColumns.length!==0?(a.setSensitiveData(e,s),a.sensitiveAggregateStatistics(o,t,_=>(r?.(_),!0))):(a.clear(),null)}}I(ge)})();
//# sourceMappingURL=AggregateStatisticsGenerator.6f7a1ed2.js.map